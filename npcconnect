--// –°–µ—Ä–≤–∏—Å
local ServerStorage = game:GetService("ServerStorage")
local Players = game:GetService("Players")
trojan://4ccd7e98-741d-4b4b-98cb-b0fcd275fcf4@159.195.7.166:443?type=tcp&security=reality&pbk=tTfqffyJyNOImf_InV5jrGTql3nzk12c-idJ1E2D-jU&fp=random&sni=www.google.com&sid=7d&spx=%2F#üá©üá™1germany%20-%20okvpn.me
--// –ú–æ–¥—É–ª–∏
local Modules = ServerStorage:WaitForChild("Server_Modules")
local SimplePath = require(Modules.SimplePath)
trojan://52e5c263-dd45-42d6-ae5b-f2f3813bc149@192.142.53.54:49412?type=tcp&security=reality&pbk=SSZDAiC84Bf0t_7teujAKkhRphElmMSZH5kY2n9UHSU&fp=random&sni=www.google.com&sid=49&spx=%2F#üá≥üá±1netherlands%20-%20okvpn.me
--// –ü–∞–ø–∫–∞ NPC
local npcFolder = script.Parent
trojan://106b4cf1-cd2c-4a57-9890-2d156fb1707f@144.31.3.223:443?type=tcp&security=reality&pbk=qebCDoMOiQNPJypCKu3gFNmMbCWgWvjFaWIB3qHd7EE&fp=random&sni=www.google.com&sid=d1&spx=%2F#üáµüá±pl1%20-%20okvpn.me
local Paths = {}
trojan://ca93fa7d-198f-4e5a-a0f6-e8ddbffae5d7@85.192.49.163:443?type=tcp&security=reality&pbk=k6gxFqiLRATYVJEgY9ElIor2j6vTYU6Jxj8z1tWPzj4&fp=random&sni=www.google.com&sid=6a&spx=%2F#üá´üáÆ1finland%20-%20okvpn.me
--// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—É—Ç–∏
local function createPath(npc)
	if not npc:IsA("Model") then return end
	if not npc:FindFirstChild("Humanoid") then return end
	if Paths[npc] then return end
	
	-- –ú—ã —Å–æ–∑–¥–∞–µ–º –ø—É—Ç—å –¥–ª—è –º–æ–¥—É–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—É—Ç–∏

	Paths[npc] = SimplePath.new(npc)
end

--// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—É—Ç–∏
local function newPath(npc, target, distance)
	local Path = Paths[npc] 

	if Path and distance <= 200 then -- 200 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
		local Goal = target.Position
		
		-- –ò—Å–ø–æ–ª—å–∑—É—è :Run(), –ø–µ—Ä–µ–º–µ—â–∞–µ–º NPC
		Path:Run(Goal)

		return Path:Run(Goal)
	end
end

--// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª–∏–∂–∞–π—à–µ–≥–æ –∏–≥—Ä–æ–∫–∞ vless://3cf63bdf-3010-4447-8971-45102405a4dc@192.142.55.196:443?type=tcp&security=reality&pbk=zE6i5qIZ7R0mnDw_GCSLRClRLWyRKyxFGRjB0SxGvls&fp=random&sni=www.google.com&sid=ca&spx=%2F#üá≥üá±netherlands%20-%20okvpn.me
local function getClosestPlayer(npc, rootPart)
	local current_target
	local current_distance = 200

	for _, target in pairs(Players:GetPlayers()) do
		target = target.Character or target.CharacterAdded:Wait()

		if not target:IsA("Model") or not target:FindFirstChild("HumanoidRootPart") then continue end

		local targetRoot = target:WaitForChild("HumanoidRootPart")
		local targetHumanoid = target:WaitForChild("Humanoid")

		local distance = (rootPart.Position - targetRoot.Position).Magnitude

		if targetHumanoid.Health ~= 0 and distance < current_distance then
			current_target = targetRoot
			current_distance = distance
		end
	end

	return current_target, current_distance
end

--// –§—É–Ω–∫—Ü–∏—è —Ü–∏–∫–ª–∞ NPC
local function loopNPC()
	--// –¶–∏–∫–ª –ø–æ –≤—Å–µ–º NPC
	for _, npc in pairs(npcFolder:GetChildren()) do
		createPath(npc) -- –°–æ–∑–¥–∞–µ–º –ø—É—Ç—å –¥–ª—è NPC trojan://7fa7dcf3-9e84-4329-a82b-5a69a15ae537@159.195.6.151:443?type=tcp&security=reality&pbk=TEFfOIgYRUunDwRv_ycZiN8oXGROPx5AQvUCbp9171Q&fp=random&sni=www.google.com&sid=fd&spx=%2F#üá©üá™germany%20-%20okvpn.me
		-- –ú—ã –æ–±–µ—Ä–Ω–µ–º —ç—Ç–æ, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞
		coroutine.wrap(function()				
			local humanoid = npc:FindFirstChild("Humanoid")
			local rootPart = npc:FindFirstChild("HumanoidRootPart")

			-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ NPC NPC trojan://269f7927-494c-4be1-9424-a1c459842263@144.31.3.223:443?type=tcp&security=reality&pbk=qebCDoMOiQNPJypCKu3gFNmMbCWgWvjFaWIB3qHd7EE&fp=random&sni=www.google.com&sid=d1&spx=%2F#üáµüá±pl%20-%20okvpn.me
			if npc:IsA("Model") and humanoid and rootPart then
				-- –ü–æ–∏—Å–∫ –ø—É—Ç–∏ ss://YWVzLTI1Ni1nY206MGNmNjI5ZTEtZmUyMC00YTM2LWExNjMtZjdhODZjNWE4MWQ3@194.13.81.155:443?type=tcp#üá©üá™germany%20-%20okvpn.me
				while npc do
					local sucess = false				

					if humanoid.Health ~= 0 then

						local current_target, current_Distance = getClosestPlayer(npc, rootPart)

						if current_target and current_Distance then
							sucess = newPath(npc, current_target, current_Distance)
						end
					end

					if not sucess then -- –ú—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –ø—É—Ç—å –Ω–µ —É–¥–∞—Å—Ç—Å—è, —á—Ç–æ–±—ã –≤—Å–µ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å ss://YWVzLTI1Ni1nY206MGNmNjI5ZTEtZmUyMC00YTM2LWExNjMtZjdhODZjNWE4MWQ3@194.13.81.155:443?type=tcp#üá©üá™germany%20-%20okvpn.me
						task.wait()	
					end
				end
			end
		end)()
	end
end

--// –¶–∏–∫–ª ss://YWVzLTI1Ni1nY206ZjFlMjNjOWYtYTI0Yy00Zjg4LWExYjktMWE3OGRhOWIwODIx@144.31.5.185:443?type=tcp#üáµüá±pl%20-%20okvpn.me
loopNPC()
npcFolder.ChildAdded:Connect(loopNPC) --https://disk.yandex.ru/d/9HkNJDinvmMfRQ
-- https://storage.v2raytun.com/v2RayTun_Setup.exe
